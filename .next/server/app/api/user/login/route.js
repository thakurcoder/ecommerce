"use strict";(()=>{var e={};e.id=362,e.ids=[362],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},6588:(e,s,r)=>{r.r(s),r.d(s,{originalPathname:()=>w,patchFetch:()=>q,requestAsyncStorage:()=>x,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>h});var t={};r.r(t),r.d(t,{POST:()=>m});var n=r(9303),a=r(8716),i=r(670),o=r(7070),u=r(2023),p=r.n(u),c=r(8194),l=r(1482),d=r.n(l);async function m(e){try{let{email:s,password:r}=await e.json(),t=await c._.user.findUnique({where:{email:s}});if(!t)return o.NextResponse.json({message:"email does not exist",status:400});if(!await p().compare(r,t.password))return o.NextResponse.json({message:"worng password",status:400});let n={id:t.id,name:t.name,email:t.email},a=d().sign(n,process.env.TOKEN_SECRET,{expiresIn:"1d"}),i=o.NextResponse.json({massage:"login successful",success:!0,status:200});return i.cookies.set("token",a,{httpOnly:!0}),i}catch(e){return o.NextResponse.json({message:e})}}let g=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/user/login/route",pathname:"/api/user/login",filename:"route",bundlePath:"app/api/user/login/route"},resolvedPagePath:"C:\\Users\\Aman Kumar Singh\\Desktop\\roc_assignment\\src\\app\\api\\user\\login\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:x,staticGenerationAsyncStorage:h,serverHooks:f}=g,w="/api/user/login/route";function q(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:h})}},8194:(e,s,r)=>{r.d(s,{_:()=>t});let t=new(require("@prisma/client")).PrismaClient;(async function(){})().then(async()=>{await t.$disconnect()}).catch(async e=>{console.error(e),await t.$disconnect(),process.exit(1)})}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,972,482,23],()=>r(6588));module.exports=t})();