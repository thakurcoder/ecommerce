"use strict";(()=>{var e={};e.id=800,e.ids=[800],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7080:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var i={};t.r(i),t.d(i,{POST:()=>p});var a=t(9303),s=t(8716),n=t(670),o=t(8194),u=t(7070);async function p(e){try{let r=await e.json(),t=r.email,i=r.otp,a=await o._.emailverification.findUnique({where:{email:t}});if(a?.otp==i)return await o._.emailverification.delete({where:{email:t}}),u.NextResponse.json({message:"user verified",status:200});return await o._.user.delete({where:{email:t}}),await o._.emailverification.delete({where:{email:t}}),u.NextResponse.json({message:"Invalid OTP",error:Error("Invalid OTP"),status:400})}catch(e){return u.NextResponse.json({message:e})}}let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/user/verify/route",pathname:"/api/user/verify",filename:"route",bundlePath:"app/api/user/verify/route"},resolvedPagePath:"C:\\Users\\Aman Kumar Singh\\Desktop\\roc_assignment\\src\\app\\api\\user\\verify\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:m}=c,v="/api/user/verify/route";function f(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},8194:(e,r,t)=>{t.d(r,{_:()=>i});let i=new(require("@prisma/client")).PrismaClient;(async function(){})().then(async()=>{await i.$disconnect()}).catch(async e=>{console.error(e),await i.$disconnect(),process.exit(1)})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[948,972],()=>t(7080));module.exports=i})();